@model IEnumerable<LifestyleSurveyApp.Models.Survey>
@{
    ViewData["Title"] = "Survey Results";
}

<!-- External stylesheets for Bootstrap and icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

<!-- Wrapper container for page spacing -->
<div class="container mt-5 mb-5">
    <h2 class="text-center text-primary mb-4">Survey Results</h2>

    <!-- Card component to hold all results -->
    <div class="card shadow p-4">

        <!-- Display alert if there are no surveys -->
        @if (ViewBag.Message != null)
        {
            <div class="alert alert-warning text-center">
                <i class="bi bi-exclamation-triangle-fill me-2"></i> @ViewBag.Message
            </div>
        }
        else
        {
            <!-- Section: General statistics about age and total responses -->
            <div class="mb-4">
                <h5 class="text-secondary mb-3">General Stats</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><strong>Total number of surveys:</strong> @ViewBag.Total</li>
                    <li class="list-group-item"><strong>Average Age:</strong> @string.Format("{0:N1}", ViewBag.AvgAge)</li>
                    <li class="list-group-item"><strong>Oldest person who participated:</strong> @ViewBag.MaxAge</li>
                    <li class="list-group-item"><strong>Youngest person who participated:</strong> @ViewBag.MinAge</li>
                </ul>
            </div>

            <!-- Section: Percentages of food preferences -->
            <div class="mb-4">
                <h5 class="text-secondary mb-3">Favorite Food Preferences</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><strong>Pizza:</strong> @string.Format("{0:N1}", ViewBag.PizzaPercent)%</li>
                    <li class="list-group-item"><strong>Pasta:</strong> @string.Format("{0:N1}", ViewBag.PastaPercent)%</li>
                    <li class="list-group-item"><strong>Pap and Wors:</strong> @string.Format("{0:N1}", ViewBag.PapPercent)%</li>
                </ul>
            </div>

            <!-- Section: Average lifestyle ratings -->
            <div>
                <h5 class="text-secondary mb-3">Lifestyle Ratings (Average)</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><strong>Watch Movies:</strong> @string.Format("{0:N1}", ViewBag.AvgMovies)</li>
                    <li class="list-group-item"><strong>Listen to Radio:</strong> @string.Format("{0:N1}", ViewBag.AvgRadio)</li>
                    <li class="list-group-item"><strong>Eat Out:</strong> @string.Format("{0:N1}", ViewBag.AvgEatOut)</li>
                    <li class="list-group-item"><strong>Watch TV:</strong> @string.Format("{0:N1}", ViewBag.AvgTV)</li>
                </ul>
            </div>
        }
    </div>
</div>
